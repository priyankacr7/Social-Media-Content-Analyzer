<!-- <!DOCTYPE html>
<html>
<head>
  <title>Analysis Result</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="container py-5">
  <h1 class="mb-4">Extracted Text from "{{ filename }}"</h1>

  <pre class="p-3 border bg-light" style="white-space: pre-wrap;">{{ text }}</pre>

  <h2>Engagement Suggestions</h2>
  <p>{{ suggestion }}</p>
  <p><strong>Sentiment Polarity:</strong> {{ polarity }}</p>
  <p><strong>Subjectivity:</strong> {{ subjectivity }}</p>

  <a href="/" class="btn btn-secondary mt-4">Upload Another File</a>
</body>
</html> -->
<!DOCTYPE html>
<html>
<head>
  <title>Analysis Result</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #f8f9fa;
    }
    .card {
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    }
    pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      background: #f4f6f9;
      border-radius: 10px;
      padding: 15px;
    }
  </style>
</head>
<body class="container py-5">

  <h1 class="mb-4 text-primary">📄 Analysis Result</h1>

  <!-- File & Extracted Text -->
  <div class="card mb-4">
    <div class="card-body">
      <h5 class="card-title text-secondary">Extracted Text from <span class="fw-bold">{{ filename }}</span></h5>
      <pre id="extractedText">{{ text }}</pre>
      <div class="d-flex gap-3 mt-3">
        <button class="btn btn-outline-primary" onclick="copyText()">📋 Copy Text</button>
        <a id="downloadLink" class="btn btn-success">⬇️ Download</a>
      </div>
    </div>
  </div>

  <!-- Engagement Suggestions -->
  <div class="card mb-4">
    <div class="card-body">
      <h4 class="card-title text-info">💡 Engagement Suggestions</h4>
      <p>{{ suggestion }}</p>
    </div>
  </div>

  <!-- Sentiment Analysis -->
  <div class="card mb-4">
    <div class="card-body">
      <h4 class="card-title text-warning">📊 Sentiment Analysis</h4>
      <p><strong>Polarity:</strong> {{ polarity }}</p>
      <p><strong>Subjectivity:</strong> {{ subjectivity }}</p>
    </div>
  </div>

  <!-- Back Button -->
  <a href="/" class="btn btn-secondary">🔄 Upload Another File</a>

  <script>
    // Copy text
    function copyText() {
      const text = document.getElementById("extractedText").innerText;
      navigator.clipboard.writeText(text).then(() => {
        alert("Text copied to clipboard!");
      });
    }

    // Download text as file
    window.onload = function() {
      const text = document.getElementById("extractedText").innerText;
      const blob = new Blob([text], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      document.getElementById("downloadLink").href = url;
      document.getElementById("downloadLink").download = "extracted_text.txt";
    }
  </script>

</body>
</html>
